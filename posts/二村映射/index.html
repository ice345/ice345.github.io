<!doctype html><html lang=zh-cn dir=ltr class=scroll-smooth data-default-appearance=light data-auto-appearance=true><head><meta charset=utf-8><meta http-equiv=content-language content="zh-cn"><meta name=viewport content="width=device-width,initial-scale=1"><meta http-equiv=X-UA-Compatible content="ie=edge"><meta name=theme-color><title>二村映射 &#183; ICE345のBLOG</title><meta name=title content="二村映射 &#183; ICE345のBLOG"><meta name=keywords content="Futamura投影,编译技术,解释器,部分求值,"><link rel=canonical href=https://myblog.050626.xyz/posts/%E4%BA%8C%E6%9D%91%E6%98%A0%E5%B0%84/><meta name=author content="ICE345"><link href=https://github.com/ice345 rel=me><link href=https://twitter.com/ice24971676770 rel=me><link href=https://alist.050626.xyz/ rel=me><link href=https://obsidian.050626.xyz/ rel=me><meta property="og:url" content="https://myblog.050626.xyz/posts/%E4%BA%8C%E6%9D%91%E6%98%A0%E5%B0%84/"><meta property="og:site_name" content="ICE345のBLOG"><meta property="og:title" content="二村映射"><meta property="og:description" content="Futamura 投影（Futamura Projection）是编程语言和编译技术中的一个重要概念，由日本计算机科学家 Futamura Yoshihiko 在 1971 年提出。Futamura 投影解释了如何通过对解释器进行部分求值（Partial Evaluation），将解释器转换为编译器，以及进一步的可能转变。"><meta property="og:locale" content="zh_cn"><meta property="og:type" content="article"><meta property="article:section" content="posts"><meta property="article:published_time" content="2024-09-07T11:25:58+00:00"><meta property="article:modified_time" content="2024-09-07T11:25:58+00:00"><meta property="article:tag" content="Futamura投影"><meta property="article:tag" content="编译技术"><meta property="article:tag" content="解释器"><meta property="article:tag" content="部分求值"><meta name=twitter:card content="summary"><meta name=twitter:title content="二村映射"><meta name=twitter:description content="Futamura 投影（Futamura Projection）是编程语言和编译技术中的一个重要概念，由日本计算机科学家 Futamura Yoshihiko 在 1971 年提出。Futamura 投影解释了如何通过对解释器进行部分求值（Partial Evaluation），将解释器转换为编译器，以及进一步的可能转变。"><link type=text/css rel=stylesheet href=/css/main.bundle.min.922fadb2d9b9f61b9507e15201e73b507fc8f446813c75b3593f2c01fa6a6c101b7c3d229df56866d4ef71c697ca164b5a2beae54c6bfa284089eabb534eb1f8.css integrity="sha512-ki+tstm59huVB+FSAec7UH/I9EaBPHWzWT8sAfpqbBAbfD0infVoZtTvccaXyhZLWivq5Uxr+ihAieq7U06x+A=="><script type=text/javascript src=/js/appearance.min.6f41174b3a05b680820fe08cadbfa5fb7a7ca347b76a0955cdc68b9d8aca1ce24f0547e138cea33bcc7904d551a90afcb1cc7f2d9fe8557075d501419046c08c.js integrity="sha512-b0EXSzoFtoCCD+CMrb+l+3p8o0e3aglVzcaLnYrKHOJPBUfhOM6jO8x5BNVRqQr8scx/LZ/oVXB11QFBkEbAjA=="></script><script type=text/javascript src=/js/zen-mode.min.9814dee9614d32aeb56239d118edfe20acd6231424f9b19c2dd48835038414130a5e946c0d1c9087d60e60e31840c9babfd217e3d4b95643dc8d651a71ccdf4a.js integrity="sha512-mBTe6WFNMq61YjnRGO3+IKzWIxQk+bGcLdSINQOEFBMKXpRsDRyQh9YOYOMYQMm6v9IX49S5VkPcjWUacczfSg=="></script><script src=/lib/zoom/zoom.min.umd.a527109b68c082a70f3697716dd72a9d5aa8b545cf800cecbbc7399f2ca6f6e0ce3e431f2062b48bbfa47c9ea42822714060bef309be073f49b9c0e30d318d7b.js integrity="sha512-pScQm2jAgqcPNpdxbdcqnVqotUXPgAzsu8c5nyym9uDOPkMfIGK0i7+kfJ6kKCJxQGC+8wm+Bz9JucDjDTGNew=="></script><script defer type=text/javascript id=script-bundle src=/js/main.bundle.min.0afa8484847989e00726e899a731282ce974a61224e668a658bcc746433fe54b55a6127f62b230929ff7983d6ce4acdac78426d2c6b9d306cdbca425c1355914.js integrity="sha512-CvqEhIR5ieAHJuiZpzEoLOl0phIk5mimWLzHRkM/5UtVphJ/YrIwkp/3mD1s5Kzax4Qm0sa50wbNvKQlwTVZFA==" data-copy=复制 data-copied=已复制></script><script src=/lib/jquery/jquery.slim.min.b0dca576e87d7eaa5850ae4e61759c065786cdb6489d68fcc82240539eebd5da522bdb4fda085ffd245808c8fe2acb2516408eb774ef26b5f6015fc6737c0ea8.js integrity="sha512-sNylduh9fqpYUK5OYXWcBleGzbZInWj8yCJAU57r1dpSK9tP2ghf/SRYCMj+KsslFkCOt3TvJrX2AV/Gc3wOqA=="></script><link rel=apple-touch-icon sizes=180x180 href=/apple-touch-icon.png><link rel=icon type=image/png sizes=32x32 href=/favicon-32x32.png><link rel=icon type=image/png sizes=16x16 href=/favicon-16x16.png><link rel=manifest href=/site.webmanifest><script type=application/ld+json>[{"@context":"https://schema.org","@type":"Article","articleSection":"Posts","name":"二村映射","headline":"二村映射","inLanguage":"zh-cn","url":"https://myblog.050626.xyz/posts/%E4%BA%8C%E6%9D%91%E6%98%A0%E5%B0%84/","author":{"@type":"Person","name":"ICE345"},"copyrightYear":"2024","dateCreated":"2024-09-07T11:25:58\u002b00:00","datePublished":"2024-09-07T11:25:58\u002b00:00","dateModified":"2024-09-07T11:25:58\u002b00:00","keywords":["Futamura投影","编译技术","解释器","部分求值"],"mainEntityOfPage":"true","wordCount":"4106"}]</script><script src=https://www.gstatic.com/firebasejs/8.10.0/firebase-app.js></script><script src=https://www.gstatic.com/firebasejs/8.10.0/firebase-firestore.js></script><script src=https://www.gstatic.com/firebasejs/8.10.0/firebase-auth.js></script><script>const firebaseConfig={apiKey:"AIzaSyA8tMWRUkD-GLwcKmOtPRIp2oztEBoRUZ4",authDomain:"hugo-blowfish-457e8.firebaseapp.com",projectId:"hugo-blowfish-457e8",storageBucket:"hugo-blowfish-457e8.firebasestorage.app",messagingSenderId:"124614443928",appId:"1:124614443928:web:d969114adb4e72d9cc61ed",measurementId:null};var app=firebase.initializeApp(firebaseConfig),db=firebase.firestore(),auth=firebase.auth()</script></head><body class="flex flex-col h-screen m-auto leading-7 max-w-7xl px-6 sm:px-14 md:px-24 lg:px-32 text-lg bg-neutral text-neutral-900 dark:bg-neutral-800 dark:text-neutral bf-scrollbar"><div id=the-top class="absolute flex self-center"><a class="px-3 py-1 text-sm -translate-y-8 rounded-b-lg bg-primary-200 focus:translate-y-0 dark:bg-neutral-600" href=#main-content><span class="font-bold text-primary-600 pe-2 dark:text-primary-400">&darr;</span>
跳过正文</a></div><div class=min-h-[148px]></div><div class="fixed inset-x-0 z-100"><div id=menu-blur class="absolute opacity-0 inset-x-0 top-0 h-full single_hero_background nozoom backdrop-blur-2xl shadow-2xl bg-neutral/25 dark:bg-neutral-800/25"></div><div class="relative m-auto leading-7 max-w-7xl px-6 sm:px-14 md:px-24 lg:px-32"><div class="main-menu flex items-center w-full gap-2 p-1 pl-0"><div><a href=/ class=flex><span class=sr-only>ICE345のBLOG</span>
<img src=/img/logo.png width=679 height=679 class="logo max-h-20 max-w-20 object-scale-down object-left nozoom" alt></a></div><a href=/ class="text-base font-medium truncate min-w-0 shrink">ICE345のBLOG</a><div class="flex items-center ms-auto"><div class="hidden md:flex"><nav class="flex items-center gap-x-5 h-12"><a href=/posts/ class="flex items-center bf-icon-color-hover" aria-label=文章 title><span class="text-base font-medium break-normal">文章
</span></a><a href=/categories/ class="flex items-center bf-icon-color-hover" aria-label=分类 title><span class="text-base font-medium break-normal">分类
</span></a><a href=/tags/ class="flex items-center bf-icon-color-hover" aria-label=标签 title><span class="text-base font-medium break-normal">标签
</span></a><button id=search-button aria-label=Search class="text-base bf-icon-color-hover" title="搜索 (/)">
<span class="relative block icon"><svg aria-hidden="true" focusable="false" data-prefix="fas" data-icon="search" class="svg-inline--fa fa-search fa-w-16" role="img" viewBox="0 0 512 512"><path fill="currentColor" d="M505 442.7 405.3 343c-4.5-4.5-10.6-7-17-7H372c27.6-35.3 44-79.7 44-128C416 93.1 322.9.0 208 0S0 93.1.0 208s93.1 208 208 208c48.3.0 92.7-16.4 128-44v16.3c0 6.4 2.5 12.5 7 17l99.7 99.7c9.4 9.4 24.6 9.4 33.9.0l28.3-28.3c9.4-9.4 9.4-24.6.1-34zM208 336c-70.7.0-128-57.2-128-128 0-70.7 57.2-128 128-128 70.7.0 128 57.2 128 128 0 70.7-57.2 128-128 128z"/></svg></span></button><div class="flex items-center"><button id=appearance-switcher aria-label="Dark mode switcher" type=button class="text-base bf-icon-color-hover"><div class="flex items-center justify-center dark:hidden"><span class="relative block icon"><svg viewBox="0 0 512 512"><path fill="currentColor" d="M32 256C32 132.2 132.3 32 255.8 32c11.36.0 29.7 1.668 40.9 3.746 9.616 1.777 11.75 14.63 3.279 19.44C245 86.5 211.2 144.6 211.2 207.8c0 109.7 99.71 193 208.3 172.3 9.561-1.805 16.28 9.324 10.11 16.95C387.9 448.6 324.8 480 255.8 480 132.1 480 32 379.6 32 256z"/></svg></span></div><div class="items-center justify-center hidden dark:flex"><span class="relative block icon"><svg viewBox="0 0 512 512"><path fill="currentColor" d="M256 159.1c-53.02.0-95.1 42.98-95.1 95.1s41.2 96.9 95.1 96.9 95.1-42.98 95.1-95.1S309 159.1 256 159.1zM509.3 347l-63.2-91.9 63.15-91.01c6.332-9.125 1.104-21.74-9.826-23.72l-109-19.7-19.7-109c-1.975-10.93-14.59-16.16-23.72-9.824L256 65.89 164.1 2.736c-9.125-6.332-21.74-1.107-23.72 9.824L121.6 121.6 12.56 141.3C1.633 143.2-3.596 155.9 2.736 164.1L65.89 256 2.74 347.01c-6.332 9.125-1.105 21.74 9.824 23.72l109 19.7 19.7 109c1.975 10.93 14.59 16.16 23.72 9.824L256 446.1l91.01 63.15c9.127 6.334 21.75 1.107 23.72-9.822l19.7-109 109-19.7C510.4 368.8 515.6 356.1 509.3 347zM256 383.1c-70.69.0-127.1-57.31-127.1-127.1.0-70.69 57.31-127.1 127.1-127.1S383.1 186.2 383.1 256c0 70.7-56.4 127.1-127.1 127.1z"/></svg></span></div></button></div></nav></div><div class="flex md:hidden"><div class="flex items-center h-14 gap-4"><button id=search-button-mobile aria-label=Search class="flex items-center justify-center bf-icon-color-hover" title="搜索 (/)">
<span class="relative block icon"><svg aria-hidden="true" focusable="false" data-prefix="fas" data-icon="search" class="svg-inline--fa fa-search fa-w-16" role="img" viewBox="0 0 512 512"><path fill="currentColor" d="M505 442.7 405.3 343c-4.5-4.5-10.6-7-17-7H372c27.6-35.3 44-79.7 44-128C416 93.1 322.9.0 208 0S0 93.1.0 208s93.1 208 208 208c48.3.0 92.7-16.4 128-44v16.3c0 6.4 2.5 12.5 7 17l99.7 99.7c9.4 9.4 24.6 9.4 33.9.0l28.3-28.3c9.4-9.4 9.4-24.6.1-34zM208 336c-70.7.0-128-57.2-128-128 0-70.7 57.2-128 128-128 70.7.0 128 57.2 128 128 0 70.7-57.2 128-128 128z"/></svg>
</span></button>
<button id=appearance-switcher-mobile type=button aria-label="Dark mode switcher" class="flex items-center justify-center text-neutral-900 hover:text-primary-600 dark:text-neutral-200 dark:hover:text-primary-400"><div class=dark:hidden><span class="relative block icon"><svg viewBox="0 0 512 512"><path fill="currentColor" d="M32 256C32 132.2 132.3 32 255.8 32c11.36.0 29.7 1.668 40.9 3.746 9.616 1.777 11.75 14.63 3.279 19.44C245 86.5 211.2 144.6 211.2 207.8c0 109.7 99.71 193 208.3 172.3 9.561-1.805 16.28 9.324 10.11 16.95C387.9 448.6 324.8 480 255.8 480 132.1 480 32 379.6 32 256z"/></svg></span></div><div class="hidden dark:block"><span class="relative block icon"><svg viewBox="0 0 512 512"><path fill="currentColor" d="M256 159.1c-53.02.0-95.1 42.98-95.1 95.1s41.2 96.9 95.1 96.9 95.1-42.98 95.1-95.1S309 159.1 256 159.1zM509.3 347l-63.2-91.9 63.15-91.01c6.332-9.125 1.104-21.74-9.826-23.72l-109-19.7-19.7-109c-1.975-10.93-14.59-16.16-23.72-9.824L256 65.89 164.1 2.736c-9.125-6.332-21.74-1.107-23.72 9.824L121.6 121.6 12.56 141.3C1.633 143.2-3.596 155.9 2.736 164.1L65.89 256 2.74 347.01c-6.332 9.125-1.105 21.74 9.824 23.72l109 19.7 19.7 109c1.975 10.93 14.59 16.16 23.72 9.824L256 446.1l91.01 63.15c9.127 6.334 21.75 1.107 23.72-9.822l19.7-109 109-19.7C510.4 368.8 515.6 356.1 509.3 347zM256 383.1c-70.69.0-127.1-57.31-127.1-127.1.0-70.69 57.31-127.1 127.1-127.1S383.1 186.2 383.1 256c0 70.7-56.4 127.1-127.1 127.1z"/></svg></span></div></button>
<input type=checkbox id=mobile-menu-toggle autocomplete=off class="hidden peer">
<label for=mobile-menu-toggle class="flex items-center justify-center cursor-pointer bf-icon-color-hover"><span class="relative block icon"><svg viewBox="0 0 448 512"><path fill="currentColor" d="M0 96C0 78.33 14.33 64 32 64H416c17.7.0 32 14.33 32 32 0 17.7-14.3 32-32 32H32C14.33 128 0 113.7.0 96zM0 256c0-17.7 14.33-32 32-32H416c17.7.0 32 14.3 32 32s-14.3 32-32 32H32c-17.67.0-32-14.3-32-32zM416 448H32c-17.67.0-32-14.3-32-32s14.33-32 32-32H416c17.7.0 32 14.3 32 32s-14.3 32-32 32z"/></svg></span></label><div role=dialog aria-modal=true style=scrollbar-gutter:stable class="fixed inset-0 z-50 invisible overflow-y-auto px-6 py-20 opacity-0 transition-[opacity,visibility] duration-300 peer-checked:visible peer-checked:opacity-100 bg-neutral-50/97 dark:bg-neutral-900/99
bf-scrollbar"><label for=mobile-menu-toggle class="fixed end-8 top-5 flex items-center justify-center z-50 h-12 w-12 cursor-pointer select-none rounded-full bf-icon-color-hover border bf-border-color bf-border-color-hover bg-neutral-50 dark:bg-neutral-900"><span class="relative block icon"><svg viewBox="0 0 320 512"><path fill="currentColor" d="M310.6 361.4c12.5 12.5 12.5 32.75.0 45.25C304.4 412.9 296.2 416 288 416s-16.38-3.125-22.62-9.375L160 301.3 54.63 406.6C48.38 412.9 40.19 416 32 416S15.63 412.9 9.375 406.6c-12.5-12.5-12.5-32.75.0-45.25l105.4-105.4L9.375 150.6c-12.5-12.5-12.5-32.75.0-45.25s32.75-12.5 45.25.0L160 210.8l105.4-105.4c12.5-12.5 32.75-12.5 45.25.0s12.5 32.75.0 45.25l-105.4 105.4L310.6 361.4z"/></svg></span></label><nav class="mx-auto max-w-md space-y-6"><div class=px-2><a href=/posts/ aria-label=文章 class="flex items-center gap-4 group bf-icon-color-hover text-neutral-700 dark:text-neutral-200"><span title class="text-2xl font-bold tracking-tight">文章</span></a></div><div class=px-2><a href=/categories/ aria-label=分类 class="flex items-center gap-4 group bf-icon-color-hover text-neutral-700 dark:text-neutral-200"><span title class="text-2xl font-bold tracking-tight">分类</span></a></div><div class=px-2><a href=/tags/ aria-label=标签 class="flex items-center gap-4 group bf-icon-color-hover text-neutral-700 dark:text-neutral-200"><span title class="text-2xl font-bold tracking-tight">标签</span></a></div></nav></div></div></div></div></div></div></div><script type=text/javascript src=/js/background-blur.min.605b3b942818f0ab5a717ae446135ec46b8ee5a2ad12ae56fb90dc2a76ce30c388f9fec8bcc18db15bd47e3fa8a09d779fa12aa9c184cf614a315bc72c6c163d.js integrity="sha512-YFs7lCgY8KtacXrkRhNexGuO5aKtEq5W+5DcKnbOMMOI+f7IvMGNsVvUfj+ooJ13n6EqqcGEz2FKMVvHLGwWPQ==" data-blur-id=menu-blur></script><div class="relative flex flex-col grow"><main id=main-content class=grow><article><header id=single_header class="mt-5 max-w-prose"><ol class="text-sm text-neutral-500 dark:text-neutral-400 print:hidden"><li class=hidden><a class="hover:underline decoration-neutral-300 dark:underline-neutral-600" href=/>響け！ユーフォニアム</a><span class="px-1 text-primary-500">/</span></li><li class=inline><a class="hover:underline decoration-neutral-300 dark:underline-neutral-600" href=/posts/>Posts</a><span class="px-1 text-primary-500">/</span></li><li class=hidden><a class="hover:underline decoration-neutral-300 dark:underline-neutral-600" href=/posts/%E4%BA%8C%E6%9D%91%E6%98%A0%E5%B0%84/>二村映射</a><span class="px-1 text-primary-500">/</span></li></ol><h1 class="mt-0 text-4xl font-extrabold text-neutral-900 dark:text-neutral">二村映射</h1><div class="mt-1 mb-6 text-base text-neutral-500 dark:text-neutral-400 print:hidden"><div class="flex flex-row flex-wrap items-center"><time datetime=2024-09-07T11:25:58+00:00>September 7, 2024</time><span class="px-2 text-primary-500">&#183;</span><span>4106 字</span><span class="px-2 text-primary-500">&#183;</span><span title=预计阅读>9 分钟</span><span class="px-2 text-primary-500">&#183;</span><span>
<span id=views_posts/二村映射.md class="animate-pulse inline-block text-transparent max-h-3 rounded-full -mt-[2px] align-middle bg-neutral-300 dark:bg-neutral-400" title=views>loading</span>
<span class="inline-block align-text-bottom"><span class="relative block icon"><svg viewBox="0 0 576 512"><path fill="currentColor" d="M288 32c-80.8.0-145.5 36.8-192.6 80.6C48.6 156 17.3 208 2.5 243.7c-3.3 7.9-3.3 16.7.0 24.6C17.3 304 48.6 356 95.4 399.4 142.5 443.2 207.2 480 288 480s145.5-36.8 192.6-80.6c46.8-43.5 78.1-95.4 93-131.1 3.3-7.9 3.3-16.7.0-24.6-14.9-35.7-46.2-87.7-93-131.1C433.5 68.8 368.8 32 288 32zM432 256c0 79.5-64.5 144-144 144s-144-64.5-144-144 64.5-144 144-144 144 64.5 144 144zM288 192c0 35.3-28.7 64-64 64-11.5.0-22.3-3-31.6-8.4-.2 2.8-.4 5.5-.4 8.4.0 53 43 96 96 96s96-43 96-96-43-96-96-96c-2.8.0-5.6.1-8.4.4 5.3 9.3 8.4 20.1 8.4 31.6z"/></svg></span></span>
</span><span class="px-2 text-primary-500">&#183;</span><span>
<span id=likes_posts/二村映射.md class="animate-pulse inline-block text-transparent max-h-3 rounded-full -mt-[2px] align-middle bg-neutral-300 dark:bg-neutral-400" title=likes>loading</span>
<span class="inline-block align-text-bottom"><span class="relative block icon"><svg viewBox="0 0 512 512"><path fill="currentColor" d="M47.6 300.4 228.3 469.1c7.5 7 17.4 10.9 27.7 10.9s20.2-3.9 27.7-10.9L464.4 300.4c30.4-28.3 47.6-68 47.6-109.5v-5.8c0-69.9-50.5-129.5-119.4-141C347 36.5 300.6 51.4 268 84L256 96 244 84c-32.6-32.6-79-47.5-124.6-39.9C50.5 55.6.0 115.2.0 185.1v5.8c0 41.5 17.2 81.2 47.6 109.5z"/></svg></span></span>
</span><span class="px-2 text-primary-500">&#183;</span><span>
<button id=button_likes class="rounded-md border border-primary-400 px-1 py-[1px] text-xs font-normal text-primary-700 dark:border-primary-600 dark:text-primary-400">
<span id=button_likes_heart class="inline-block align-text-bottom hidden"><span class="relative block icon"><svg viewBox="0 0 512 512"><path fill="currentColor" d="M47.6 300.4 228.3 469.1c7.5 7 17.4 10.9 27.7 10.9s20.2-3.9 27.7-10.9L464.4 300.4c30.4-28.3 47.6-68 47.6-109.5v-5.8c0-69.9-50.5-129.5-119.4-141C347 36.5 300.6 51.4 268 84L256 96 244 84c-32.6-32.6-79-47.5-124.6-39.9C50.5 55.6.0 115.2.0 185.1v5.8c0 41.5 17.2 81.2 47.6 109.5z"/></svg></span>
</span><span id=button_likes_emtpty_heart class="inline-block align-text-bottom"><span class="relative block icon"><svg viewBox="0 0 512 512"><path fill="currentColor" d="M244 84l11.1 12 12-11.98C300.6 51.37 347 36.51 392.6 44.1 461.5 55.58 512 115.2 512 185.1V190.9c0 41.5-17.2 81.2-47.6 109.5L283.7 469.1c-7.5 7-17.4 10.9-27.7 10.9S235.8 476.1 228.3 469.1L47.59 300.4C17.23 272.1.0 232.4.0 190.9V185.1c0-69.9 50.52-129.52 119.4-141 44.7-7.59 92 7.27 124.6 39.9C243.1 84 244 84.01 244 84zm11.1 79.9-45-46.8c-21.7-20.82-52.5-30.7-82.8-25.66C81.55 99.07 48 138.7 48 185.1V190.9c0 28.2 11.71 55.2 32.34 74.4L256 429.3l175.7-164c20.6-19.2 32.3-46.2 32.3-74.4V185.1c0-46.4-33.6-86.03-79.3-93.66C354.4 86.4 323.6 96.28 301.9 117.1l-46.8 46.8z"/></svg></span></span>
<span id=button_likes_text>&nbsp;Like</span>
</button>
</span><span class="px-2 text-primary-500">&#183;</span>
<span class=mb-[2px]><a href=https://github.com/ice345/my-hugo-blog/tree/master/content/posts/%e4%ba%8c%e6%9d%91%e6%98%a0%e5%b0%84.md class="text-lg hover:text-primary-500" rel="noopener noreferrer" target=_blank title=编辑内容><span class="inline-block align-text-bottom"><span class="relative block icon"><svg height="1em" viewBox="0 0 512 512"><path fill="currentColor" d="M441 58.9 453.1 71c9.4 9.4 9.4 24.6.0 33.9L424 134.1 377.9 88 407 58.9c9.4-9.4 24.6-9.4 33.9.0zM209.8 256.2 344 121.9 390.1 168 255.8 302.2c-2.9 2.9-6.5 5-10.4 6.1L186.9 325l16.7-58.5c1.1-3.9 3.2-7.5 6.1-10.4zM373.1 25 175.8 222.2c-8.7 8.7-15 19.4-18.3 31.1l-28.6 1e2c-2.4 8.4-.1 17.4 6.1 23.6s15.2 8.5 23.6 6.1l1e2-28.6c11.8-3.4 22.5-9.7 31.1-18.3L487 138.9c28.1-28.1 28.1-73.7.0-101.8L474.9 25C446.8-3.1 401.2-3.1 373.1 25zM88 64C39.4 64 0 103.4.0 152V424c0 48.6 39.4 88 88 88H360c48.6.0 88-39.4 88-88V312c0-13.3-10.7-24-24-24s-24 10.7-24 24V424c0 22.1-17.9 40-40 40H88c-22.1.0-40-17.9-40-40V152c0-22.1 17.9-40 40-40H2e2c13.3.0 24-10.7 24-24s-10.7-24-24-24H88z"/></svg></span></span></a>
</span><span class="px-2 text-primary-500">&#183;</span><span class=mb-[2px]>
<span id=zen-mode-button class="text-lg hover:text-primary-500" title=啟用阅读模式 data-title-i18n-disable=啟用阅读模式 data-title-i18n-enable=停用阅读模式><span class="inline-block align-text-bottom"><span class="relative block icon"><svg viewBox="0 0 50 50" width="50" height="50"><path fill="currentColor" d="M12.980469 4C9.1204688 4 5.9804688 7.14 5.9804688 11L6 26H9.9804688V11c0-1.65 1.3400002-3 3.0000002-3H40.019531c1.66.0 3 1.35 3 3V39c0 1.65-1.34 3-3 3H29c0 1.54-.579062 2.94-1.539062 4H40.019531c3.86.0 7-3.14 7-7V11c0-3.86-3.14-7-7-7H12.980469zM7 28c-2.206.0-4 1.794-4 4V42c0 2.206 1.794 4 4 4H23c2.206.0 4-1.794 4-4V32c0-2.206-1.794-4-4-4H7zm0 4H23L23.001953 42H7V32z"/></svg></span></span></span></span></div><div class="flex flex-row flex-wrap items-center"><a class="relative mt-[0.5rem] me-2" href=/categories/%E7%BC%96%E7%A8%8B/><span class="flex cursor-pointer"><span class="rounded-md border border-primary-400 px-1 py-[1px] text-xs font-normal text-primary-700 dark:border-primary-600 dark:text-primary-400">编程
</span></span></a><a class="relative mt-[0.5rem] me-2" href=/categories/%E7%BC%96%E7%A8%8B%E6%80%9D%E6%83%B3%E5%92%8C%E8%AF%AD%E8%A8%80/><span class="flex cursor-pointer"><span class="rounded-md border border-primary-400 px-1 py-[1px] text-xs font-normal text-primary-700 dark:border-primary-600 dark:text-primary-400">编程思想和语言
</span></span></a><a class="relative mt-[0.5rem] me-2" href=/tags/futamura%E6%8A%95%E5%BD%B1/><span class="flex cursor-pointer"><span class="rounded-md border border-primary-400 px-1 py-[1px] text-xs font-normal text-primary-700 dark:border-primary-600 dark:text-primary-400">Futamura投影
</span></span></a><a class="relative mt-[0.5rem] me-2" href=/tags/%E7%BC%96%E8%AF%91%E6%8A%80%E6%9C%AF/><span class="flex cursor-pointer"><span class="rounded-md border border-primary-400 px-1 py-[1px] text-xs font-normal text-primary-700 dark:border-primary-600 dark:text-primary-400">编译技术
</span></span></a><a class="relative mt-[0.5rem] me-2" href=/tags/%E8%A7%A3%E9%87%8A%E5%99%A8/><span class="flex cursor-pointer"><span class="rounded-md border border-primary-400 px-1 py-[1px] text-xs font-normal text-primary-700 dark:border-primary-600 dark:text-primary-400">解释器
</span></span></a><a class="relative mt-[0.5rem] me-2" href=/tags/%E9%83%A8%E5%88%86%E6%B1%82%E5%80%BC/><span class="flex cursor-pointer"><span class="rounded-md border border-primary-400 px-1 py-[1px] text-xs font-normal text-primary-700 dark:border-primary-600 dark:text-primary-400">部分求值</span></span></a></div></div><div class="flex author"><img class="!mt-0 !mb-0 h-24 w-24 rounded-full me-4" width=96 height=96 alt=ICE345 src=/img/kumiko_hu_bc09991370e80658.jpg data-zoom-src=/img/kumiko_hu_1f678a2a80b4c9b4.jpg><div class=place-self-center><div class="text-[0.6rem] uppercase leading-3 text-neutral-500 dark:text-neutral-400">作者</div><div class="font-semibold leading-6 text-neutral-800 dark:text-neutral-300">ICE345</div><div class="text-sm text-neutral-700 dark:text-neutral-400">CS Student | System | Linux | OCaml</div><div class="text-2xl sm:text-lg"><div class="flex flex-wrap text-neutral-400 dark:text-neutral-500"><a class="px-1 hover:text-primary-700 dark:hover:text-primary-400" href=https://github.com/ice345 target=_blank aria-label=Github title=Github rel="me noopener noreferrer"><span class="inline-block align-text-bottom"><span class="relative block icon"><svg viewBox="0 0 496 512"><path fill="currentColor" d="M165.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6.0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6zm-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6.0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3zm44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9zM244.8 8C106.1 8 0 113.3.0 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1.0-6.2-.3-40.4-.3-61.4.0.0-70 15-84.7-29.8.0.0-11.4-29.1-27.8-36.6.0.0-22.9-15.7 1.6-15.4.0.0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5.0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9.0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4.0 33.7-.3 75.4-.3 83.6.0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252 496 113.3 383.5 8 244.8 8zM97.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1zm-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7zm32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1zm-11.4-14.7c-1.6 1-1.6 3.6.0 5.9 1.6 2.3 4.3 3.3 5.6 2.3 1.6-1.3 1.6-3.9.0-6.2-1.4-2.3-4-3.3-5.6-2z"/></svg>
</span></span></a><a class="px-1 hover:text-primary-700 dark:hover:text-primary-400" href=https://twitter.com/ice24971676770 target=_blank aria-label=Twitter title=Twitter rel="me noopener noreferrer"><span class="inline-block align-text-bottom"><span class="relative block icon"><svg viewBox="0 0 512 512"><path fill="currentColor" d="M459.37 151.716c.325 4.548.325 9.097.325 13.645.0 138.72-105.583 298.558-298.558 298.558-59.452.0-114.68-17.219-161.137-47.106 8.447.974 16.568 1.299 25.34 1.299 49.055.0 94.213-16.568 130.274-44.832-46.132-.975-84.792-31.188-98.112-72.772 6.498.974 12.995 1.624 19.818 1.624 9.421.0 18.843-1.3 27.614-3.573-48.081-9.747-84.143-51.98-84.143-102.985v-1.299c13.969 7.797 30.214 12.67 47.431 13.319-28.264-18.843-46.781-51.005-46.781-87.391.0-19.492 5.197-37.36 14.294-52.954 51.655 63.675 129.3 105.258 216.365 109.807-1.624-7.797-2.599-15.918-2.599-24.04.0-57.828 46.782-104.934 104.934-104.934 30.213.0 57.502 12.67 76.67 33.137 23.715-4.548 46.456-13.32 66.599-25.34-7.798 24.366-24.366 44.833-46.132 57.827 21.117-2.273 41.584-8.122 60.426-16.243-14.292 20.791-32.161 39.308-52.628 54.253z"/></svg>
</span></span></a><a class="px-1 hover:text-primary-700 dark:hover:text-primary-400" href=https://alist.050626.xyz/ target=_blank aria-label=Openlist title=Openlist rel="me noopener noreferrer"><span class="inline-block align-text-bottom"><span class="relative block icon"><svg viewBox="131.35 116.61 761 789.98"><g id="#79ddd1ff"><path fill="#79ddd1" opacity="1" d="M436.95 120.74C469.18 115.44 502.2 116.04 534.71 118.11 564.38 120.66 593.51 127.62 622.06 135.79 622.85 136.32 623.65 136.86 624.45 137.41 627.56 137.78 630.53 138.81 633.53 139.68 634.09 140.25 634.67 140.83 635.25 141.4 661.1 149.6 685.08 162.84 708.54 176.28 732.39 191.04 754.15 208.96 774.69 228 779.24 232.9 784.25 237.33 788.88 242.15 794.21 250.31 802.43 256.19 807.48 264.53 826.56 287.61 842.19 313.36 854.9 340.47 856.48 344.15 858.69 347.58 859.76 351.48 861.63 356.51 865.34 361.14 865.51 366.6 866.15 367.31 866.8 368.01 867.46 368.72 867.44 369.72 867.44 370.73 867.44 371.73 867.91 372.1 868.87 372.84 869.34 373.21 869.39 374.26 869.44 375.32 869.5 376.38 879.53 401.69 884.94 428.97 889.37 455.87 896.46 515.13 891.02 575.97 871.75 632.52 870.07 639.4 867.05 645.86 865.01 652.64 864.65 653.06 863.94 653.92 863.58 654.34 863.18 658.01 861.39 661.28 859.74 664.51 858.15 670.12 854.57 674.9 852.92 680.49 847.88 689.2 844.09 698.7 839.06 707.45 838.67 707.73 837.89 708.28 837.5 708.56 837.44 709.14 837.4 709.74 837.37 710.34 835.07 712.87 833.94 716.19 831.74 718.81 824.09 731.53 815.77 744.15 805.4 754.8 805.45 755.24 805.52 755.7 805.6 756.17 777.75 787.7 747.64 817.65 712.09 840.48 711.38 840.41 709.97 840.26 709.26 840.19 709.28 840.8 709.31 842.01 709.33 842.61 699.5 848.37 689.72 854.37 680.09 860.42 679.55 860.4 678.45 860.36 677.9 860.35 670.19 866.31 660.48 869.19 652.06 874.08 647.03 875.15 642.61 878 637.99 880.13 635.87 880.44 633.86 881.19 632.08 882.37 631.24 882.42 630.41 882.46 629.6 882.53 628.12 883.66 626.4 884.35 624.59 884.7 599.85 893.7 574.16 900.19 548.01 903.2 522.66 907.54 496.73 906.55 471.01 906.35 454.72 904.14 437.42 904.99 422.11 898.78 391.07 888.95 373.1 850.19 387.18 820.43 393.15 809.49 399.39 798.65 406.59 788.48 406.62 787.94 406.67 786.87 406.7 786.34 410.53 783.7 411.61 778.98 414.31 775.43c13.13-20.03 25.12-40.78 38.1-60.9C452.46 713.8 452.5 713.09 452.56 712.38 452.97 712.12 453.8 711.6 454.21 711.33 472.15 683.24 489.84 655.01 507.26 626.6 520.15 607.25 531.77 587.11 544.74 567.8c10.98-17.62 21.58-35.51 33.9-52.28C579.09 515.32 580 514.92 580.45 514.72 584.86 507.49 593.4 504.81 599.8 499.8 605.84 498.6 611.46 495.59 617.74 495.36 628.47 493.31 639.29 496.12 649.33 499.83 660.3 505.72 670.53 513.51 676.86 524.43 678.03 527.23 679.46 529.92 680.98 532.56 685.65 545.74 688.35 560.6 683.19 574.08 678.89 590.04 668.09 602.91 659.82 616.86 655 624.41 650.41 632.07 645.54 639.59 645.45 640.08 645.27 641.07 645.18 641.57 634.3 655.91 625.78 672.04 615.57 686.85 615.46 687.29 615.25 688.15 615.14 688.58 608.62 697.93 602.94 707.85 596.73 717.42 591.71 725.18 586.57 732.88 581.93 740.89 576.13 749.3 571.17 758.27 565.88 766.98 563.15 771.9 559.32 776.15 557.04 781.32 555.28 783.08 553.89 785.14 553.78 787.72 572.98 786.47 590.65 777.75 608.46 771.27 614.88 767.87 621.81 765.44 628.02 761.66 628.54 761.65 629.6 761.65 630.13 761.64 632.92 758.66 637.16 757.66 640.56 755.49 673.6 736.67 702.26 710.52 725.23 680.27 734.43 666.3 743.99 652.55 751.52 637.59 758.91 622.31 765.12 606.43 769.93 590.16 771.05 586.6 773.17 583.15 772.27 579.28 772.64 579.38 773.36 579.58 773.73 579.68 777.99 558.01 782.01 536.17 782.67 513.97 783.11 471.69 774.68 429.46 758.35 390.52 750.91 376.57 744.98 361.49 734.63 349.36 734.55 348.7 734.48 348.04 734.43 347.39 718.55 325.78 701.09 304.46 679.21 288.73 678.96 288.3 678.46 287.45 678.21 287.02 671.8 283.09 666.48 277.4 659.73 274.05 653.16 268.58 645.27 265.21 638.15 260.64 637.61 260.56 637.09 260.48 636.57 260.4 635.93 259.72 635.3 259.05 634.67 258.38 634.14 258.33 633.09 258.24 632.56 258.19 627.3 254.63 621.47 252.03 615.49 249.92 612.62 248.18 609.52 246.83 606.24 246.1 605.85 245.73 605.08 244.97 604.69 244.59 580.8 236.31 556.25 228.96 531.01 226.43 511.55 222.88 491.66 225.01 472 224.48 444.69 227.43 417.57 232.02 391.98 242.38 391.45 242.37 390.39 242.35 389.86 242.33 382.63 247 373.28 249.09 366.03 254.31 365.4 254.32 364.15 254.34 363.52 254.35 349.56 263.79 334.18 271.27 321.34 282.4 317.7 285.43 313.96 288.35 310.01 290.97 304.99 297.83 297.06 302 292.33 309.24c-18.6 18.81-34.37 40.27-47.35 63.26C241.77 376.97 240.36 382.58 237.46 386.95 237.45 387.45 237.44 388.45 237.43 388.95 232.09 396.08 229.76 405.82 222 411.02 217.76 416.27 211.32 418.66 205.93 422.42 204.78 422.42 203.63 422.42 202.48 422.42 201.69 423.05 200.91 423.69 200.12 424.32 186.45 426.32 171.54 425.89 159.41 418.55 158.89 418.47 157.85 418.32 157.33 418.24 153.36 413.6 147.41 411.16 143.93 405.99 139.3 402.03 137.8 395.97 134.47 391.09 134.53 390.42 134.65 389.09 134.71 388.43 134.03 387.32 133.36 386.22 132.68 385.13 132.55 378.41 130.44 371.73 131.82 365.03 132.27 354.99 137.2 346.03 140.98 336.95 142.87 332.66 145.79 328.89 147.17 324.37 148.85 322.33 150.29 320.06 151.01 317.49c28.31-49.78 66.67-94.18 112.88-128.27C269.02 185.44 274.69 182.33 279.28 177.84 279.83 177.75 280.92 177.56 281.46 177.47c18.43-12.41 38.52-22.03 58.56-31.55C342.86 145.14 345.67 144.22 348.47 143.28c28.08-11.96 58.26-18.75 88.48-22.54z"/></g><g id="#10b0eaff"><path fill="#10b0ea" opacity="1" d="M432.32 344.48C457.72 340.53 485.03 356.16 493.22 380.77 495.25 389.3 495.94 398.07 496.62 406.79 495.86 422.36 485.73 435.09 477.76 447.76c-65.75 104.17-132.64 207.6-198.04 311.98C272.04 773.31 259.17 784.2 243.82 787.8 214.41 797.09 179.9 777.16 172.84 747.17 169.95 732.97 171.27 717.52 178.75 704.83 219.31 640.18 261.36 576.47 301.65 511.65c30.13-46.62 59.37-93.79 89.63-140.32C400.29 356.94 415.5 346.94 432.32 344.48z"/></g></svg></span></span></a>
<a class="px-1 hover:text-primary-700 dark:hover:text-primary-400" href=https://obsidian.050626.xyz/ target=_blank aria-label=Obsidian title=Obsidian rel="me noopener noreferrer"><span class="inline-block align-text-bottom"><span class="relative block icon"><svg width="256" height="332" viewBox="0 0 256 332" preserveAspectRatio="xMidYMid"><title>Obsidian</title><defs><radialGradient cx="72.8188161%" cy="96.9336384%" fx="72.8188161%" fy="96.9336384%" r="163.793124%" gradientTransform="translate(0,7282, 0,9693), scale(1, 0,534), rotate(-104,5452), translate(-0,7282, -0,9693)" id="radialGradient-1"><stop stop-color="#FFF" stop-opacity=".4" offset="0"/><stop stop-color="#000" stop-opacity=".1" offset="100%"/></radialGradient><radialGradient cx="52.9165858%" cy="90.6316753%" fx="52.9165858%" fy="90.6316753%" r="190.361461%" gradientTransform="translate(0,5292, 0,9063), scale(1, 0,5013), rotate(-82,4659), translate(-0,5292, -0,9063)" id="radialGradient-2"><stop stop-color="#FFF" stop-opacity=".6" offset="0"/><stop stop-color="#FFF" stop-opacity=".1" offset="100%"/></radialGradient><radialGradient cx="31.1735808%" cy="97.1379223%" fx="31.1735808%" fy="97.1379223%" r="178.71402%" gradientTransform="translate(0,3117, 0,9714), scale(1, 0,5782), rotate(-77,6806), translate(-0,3117, -0,9714)" id="radialGradient-3"><stop stop-color="#FFF" stop-opacity=".8" offset="0"/><stop stop-color="#FFF" stop-opacity=".4" offset="100%"/></radialGradient><radialGradient cx="71.8134715%" cy="99.9936686%" fx="71.8134715%" fy="99.9936686%" r="92.0858865%" gradientTransform="translate(0,7181, 0,9999), scale(0,8704, 1), rotate(-120,7097), translate(-0,7181, -0,9999)" id="radialGradient-4"><stop stop-color="#FFF" stop-opacity=".3" offset="0"/><stop stop-color="#000" stop-opacity=".3" offset="100%"/></radialGradient><radialGradient cx="117.012845%" cy="34.768667%" fx="117.012845%" fy="34.768667%" r="328.728831%" gradientTransform="translate(1,1701, 0,3477), scale(1, 0,1938), rotate(102,0372), translate(-1,1701, -0,3477)" id="radialGradient-5"><stop stop-color="#FFF" stop-opacity="0" offset="0"/><stop stop-color="#FFF" stop-opacity=".2" offset="100%"/></radialGradient><radialGradient cx="-9.43113772%" cy="8.71165644%" fx="-9.43113772%" fy="8.71165644%" r="153.492398%" gradientTransform="translate(-0,0943, 0,0871), scale(1, 0,8196), rotate(45,3951), translate(0,0943, -0,0871)" id="radialGradient-6"><stop stop-color="#FFF" stop-opacity=".2" offset="0"/><stop stop-color="#FFF" stop-opacity=".4" offset="100%"/></radialGradient><radialGradient cx="103.901931%" cy="-22.1716021%" fx="103.901931%" fy="-22.1716021%" r="394.770981%" gradientTransform="translate(1,039, -0,2217), scale(1, 0,2302), rotate(80,3803), translate(-1,039, 0,2217)" id="radialGradient-7"><stop stop-color="#FFF" stop-opacity=".1" offset="0"/><stop stop-color="#FFF" stop-opacity=".3" offset="100%"/></radialGradient><radialGradient cx="99.3483412%" cy="89.1929661%" fx="99.3483412%" fy="89.1929661%" r="203.824388%" gradientTransform="translate(0,9935, 0,8919), scale(0,5317, 1), rotate(-152,3144), translate(-0,9935, -0,8919)" id="radialGradient-8"><stop stop-color="#FFF" stop-opacity=".2" offset="0"/><stop stop-color="#FFF" stop-opacity=".2" offset="50%"/><stop stop-color="#FFF" stop-opacity=".3" offset="100%"/></radialGradient></defs><g><path d="M209.055661 308.304559C207.012625 323.234431 192.318488 334.942594 177.624351 330.856524 156.801108 325.198888 132.677577 316.240965 110.989973 314.590821L77.6727842 312.076316C72.3205637 311.699652 67.2904402 309.380207 63.5286947 305.55432L6.16655365 246.77777C-.0673651204 240.370851-1.75016388 230.803829 1.92332678 222.654239c0 0 35.36022392-77.47818 36.77463292-81.485672C39.9552121 137.161075 44.8270651 101.958008 47.655883 83.0992219 48.4489959 78.0916875 50.9471638 73.511713 54.7279278 70.1338065L122.462401 9.4713779c4.510403-4.04601154 10.489733-6.05284131 16.527801-5.54719033C145.028269 4.42983855 150.590539 7.4032062 154.365181 12.1430393l57.047828 71.9777002C214.605159 88.2312032 216.321201 93.2962949 216.284862 98.5005639c0 13.5940421 1.178674 41.6464861 8.80076700000001 59.7194891C232.648708 174.474184 242.033478 189.816702 253.059495 203.952609 255.790626 207.498396 256.101328 212.345343 253.845278 216.21082 248.894846 224.618696 238.993984 240.805821 225.085629 261.471907 216.280566 275.68132 210.775853 291.685264 208.977082 308.304559H209.055661z" fill-opacity=".3" fill="#000"/><path d="M209.605709 305.790054c-2.043036 15.008451-16.737173 26.716614-31.431311 22.709122C157.429734 322.762962 133.384781 313.805038 111.618599 312.154895L78.3799887 309.64039C73.0152006 309.249857 67.9812082 306.90066 64.2358991 303.039815L6.87375813 244.106108c-6.295182632-6.471484-7.97944132-16.140376-4.24322687-24.359265.0.0 35.43880214-77.792493 36.77463284-81.878563C40.7409948 133.860788 45.5342696 98.5791422 48.3630875 79.5631995 49.1389856 74.5275023 51.638555 69.9171854 55.4351323 66.5192058L123.169606 5.62104241c4.520651-4.0370886 10.506441-6.030546178 16.544933-5.509986503S151.309345 3.62008215 155.072385 8.37128204l56.96925 72.29201336C215.222941 84.7795838 216.937676 89.8408171 216.913488 95.0431198c0 13.6726202 1.178674 41.8036422 8.72218899999999 59.9552242C233.193233 171.328985 242.577776 186.750214 253.609543 200.966635 256.400618 204.512417 256.743277 209.403088 254.473904 213.303424 249.444894 221.789878 239.62261 237.977003 225.635677 258.800246 216.862771 273.075764 211.386344 289.129213 209.605709 305.790054z" fill="#6C31E3"/><path d="M70.3650046 307.440198c26.6380354-53.983275 25.9308309-92.722365 14.536981-120.224761-10.3723324-25.459361-29.7811664-41.48933-45.0253518-51.468771-.3143131 1.492988-.7857828 2.907397-1.414409 4.24322699999999L2.63053126 219.746843C-1.08551495 227.981472.630300179 237.65243 6.9523364 244.106108l57.2835627 58.933707C66.0431995 304.847115 68.1648129 306.340102 70.3650046 307.440198z" fill="url(#radialGradient-1)"/><path d="M142.814175 197.902082C149.964798 198.609287 156.958264 200.180852 163.873152 202.695357 185.717913 210.867498 205.598217 229.254814 222.021076 264.693616 223.19975 262.650581 224.378424 260.686124 225.635677 258.800246c10.036313-14.892944 19.652838-30.064519 28.838227-45.496822C256.765668 209.418888 256.454212 204.529015 253.688121 200.966635c-11.059157-14.212565-20.470153-29.633946-28.052444-45.968291C218.092162 136.925341 216.992066 108.71574 216.913488 95.0431198 216.913488 89.8569536 215.263344 84.7493657 212.041635 80.6632954L155.072385 8.37128204 154.129446 7.19260791C158.294095 20.9438061 158.05836 31.9447647 155.465277 41.9242056 153.107929 51.1964421 148.707545 59.6043176 144.071427 68.4836627 142.499861 71.4696372 140.928296 74.5341899 139.435309 77.6773209c-7.389659 14.1136175-11.625754 29.6638391-12.415368 45.5754001-.785783000000009 19.015942 3.064553 42.82516 15.715655 74.649361H142.814175z" fill="url(#radialGradient-2)"/><path d="M142.735596 197.902082c-12.651102-31.824201-16.501438-55.633419-15.715655-74.649361C127.805724 104.393935 133.306203 90.249845 139.435309 77.6773209l4.714696-9.1936582C148.707545 59.6043176 153.02935 51.1964421 155.465277 41.9242056 158.358357 30.4582958 157.89467 18.4024291 154.129446 7.19260791 145.993296-1.74678922 132.169155-2.44852227 123.169606 5.62104241L55.4351323 66.5192058c-3.7965773 3.3979796-6.2961467 8.0082965-7.0720448 13.0439937L40.1123686 134.253679C40.1123686 134.803727 39.9552121 135.275197 39.8766338 135.825245 55.1208192 145.726107 74.4510749 161.756076 84.9019856 187.136859c2.0430351 5.029009 3.7717572 10.293754 5.0290096 16.029968C107.10231 198.404947 124.958423 196.598079 142.735596 197.823504V197.902082z" fill="url(#radialGradient-3)"/><path d="M178.252977 328.499176c14.615559 4.00749200000001 29.309696-7.700671 31.352732-22.7877 1.67311600000002-14.310825 5.905057-28.204368 12.493945-41.01786-16.501437-35.438802-36.381741-53.826118-58.147923-61.998259C140.771139 194.051747 115.547513 196.959143 89.9309952 203.166827c5.7362141 26.009409 2.3573483 60.033802-19.4874123 104.273371C72.8795094 308.697451 75.6297491 309.404655 78.3799887 309.64039L112.875852 312.233473C131.577481 313.569304 159.472769 323.234431 178.252977 328.499176z" fill="url(#radialGradient-4)"/><path d="M127.177098 122.074047C126.312737 140.932833 128.670085 162.46328 141.321187 194.208903L137.392274 193.816012c-11.39385-33.081454-13.908355-50.054361-13.043994-69.148882C125.134063 105.572609 131.341746 90.8784712 137.470852 78.3059471 139.042417 75.1628161 142.657018 69.2694455 144.228583 66.283471 148.786123 57.4041259 151.850676 52.7680076 154.443759 44.6744453 158.215516 33.3591736 157.429734 28.0158509 156.958264 22.6725282 159.86566 41.9242056 148.786123 58.6613783 140.456826 75.712864c-7.711175 14.3229723-12.266049 30.131065-13.358307 46.361183H127.177098z" fill="url(#radialGradient-5)"/><path d="M88.6737428 188.551267C90.2453083 192.008712 91.581139 194.83753 92.5240783 199.159335L89.1452124 199.945117C87.8093818 194.916108 86.7878642 191.301507 84.8234073 186.979702c-11.4724282-26.952348-29.8597446-40.860703-44.789617-51.075879 18.0730034 9.743706 36.6960546 25.06647 48.6399525 52.647444z" fill="url(#radialGradient-6)"/><path d="M92.6812348 202.616779C98.9674969 232.083632 91.8954521 269.565469 71.0722091 306.025789 88.5165862 269.879782 97.00304 235.226763 89.9309952 203.088248L92.6812348 202.5382V202.616779z" fill="url(#radialGradient-7)"/><path d="M164.658935 199.866539c34.18155 12.808259 47.3827 40.860703 57.204985 64.355608-12.179633-24.516422-29.073962-51.625927-58.462237-61.683947C141.085452 194.83753 122.226666 195.780469 89.9309952 203.088248L89.2237907 199.945117C123.483919 192.08729 141.399766 191.144351 164.658935 199.945117V199.866539z" fill="url(#radialGradient-8)"/></g></svg></span></span></a></div></div></div></div><div class=mb-5></div></header><section class="flex flex-col max-w-full mt-0 prose dark:prose-invert lg:flex-row"><div class="order-first lg:ml-auto px-0 lg:order-last lg:ps-8 lg:max-w-2xs"><div class="toc ps-5 print:hidden lg:sticky lg:top-[140px]"><details open id=TOCView class="toc-right mt-0 overflow-y-auto overscroll-contain bf-scrollbar rounded-lg -ms-5 ps-5 pe-2 hidden lg:block"><summary class="block py-1 text-lg font-semibold cursor-pointer bg-neutral-100 text-neutral-800 -ms-5 ps-5 dark:bg-neutral-700 dark:text-neutral-100 lg:hidden">目录</summary><div class="min-w-[220px] py-2 border-dotted border-s-1 -ms-5 ps-5 dark:border-neutral-600"><nav id=TableOfContents><ul><li><a href=#背景与基本概念>背景与基本概念</a></li><li><a href=#三次-futamura-投影>三次 Futamura 投影</a></li><li><a href=#意义与应用>意义与应用</a></li><li><a href=#摘自论坛>摘自论坛</a><ul><li><a href=#二村映射-futamura-projections>二村映射 (Futamura Projections)</a><ul><li><a href=#编译技术的分类>编译技术的分类</a></li><li><a href=#函数式编程中的概念>函数式编程中的概念</a></li><li><a href=#部分求值-partial-evaluation>部分求值 (Partial Evaluation)</a></li><li><a href=#部分求值器与语言虚拟机>部分求值器与语言虚拟机</a></li><li><a href=#二村映射的递归性>二村映射的递归性</a></li></ul></li></ul></li></ul></nav></div></details><details class="toc-inside mt-0 overflow-hidden rounded-lg -ms-5 ps-5 lg:hidden"><summary class="py-1 text-lg font-semibold cursor-pointer bg-neutral-100 text-neutral-800 -ms-5 ps-5 dark:bg-neutral-700 dark:text-neutral-100 lg:hidden">目录</summary><div class="py-2 border-dotted border-neutral-300 border-s-1 -ms-5 ps-5 dark:border-neutral-600"><nav id=TableOfContents><ul><li><a href=#背景与基本概念>背景与基本概念</a></li><li><a href=#三次-futamura-投影>三次 Futamura 投影</a></li><li><a href=#意义与应用>意义与应用</a></li><li><a href=#摘自论坛>摘自论坛</a><ul><li><a href=#二村映射-futamura-projections>二村映射 (Futamura Projections)</a><ul><li><a href=#编译技术的分类>编译技术的分类</a></li><li><a href=#函数式编程中的概念>函数式编程中的概念</a></li><li><a href=#部分求值-partial-evaluation>部分求值 (Partial Evaluation)</a></li><li><a href=#部分求值器与语言虚拟机>部分求值器与语言虚拟机</a></li><li><a href=#二村映射的递归性>二村映射的递归性</a></li></ul></li></ul></li></ul></nav></div></details></div></div><div class="min-w-0 min-h-0 max-w-fit"><div class="article-content max-w-prose mb-20"><p>Futamura 投影（Futamura Projection）是编程语言和编译技术中的一个重要概念，由日本计算机科学家 Futamura Yoshihiko 在 1971 年提出。Futamura 投影解释了如何通过对解释器进行部分求值（Partial Evaluation），将解释器转换为编译器，以及进一步的可能转变。</p><h2 class="relative group">背景与基本概念<div id=背景与基本概念 class=anchor></div><span class="absolute top-0 w-6 transition-opacity opacity-0 -start-6 not-prose group-hover:opacity-100 select-none"><a class="text-primary-300 dark:text-neutral-700 !no-underline" href=#%e8%83%8c%e6%99%af%e4%b8%8e%e5%9f%ba%e6%9c%ac%e6%a6%82%e5%bf%b5 aria-label=锚点>#</a></span></h2><p>在理解 Futamura 投影之前，需要了解以下两个概念：</p><ol><li><p><strong>解释器（Interpreter）</strong>：一种程序，它读取并执行另一个程序的代码。解释器按代码的一行或一段来处理，逐行或逐段地将源代码翻译成目标代码并执行。</p></li><li><p><strong>部分求值（Partial Evaluation）</strong>：一种编译技术，旨在通过提前计算程序中能够在编译时确定的部分，从而生成更高效的代码。部分求值会保留在运行时才知道的部分，从而使得程序既高效又灵活。</p></li></ol><h2 class="relative group">三次 Futamura 投影<div id=三次-futamura-投影 class=anchor></div><span class="absolute top-0 w-6 transition-opacity opacity-0 -start-6 not-prose group-hover:opacity-100 select-none"><a class="text-primary-300 dark:text-neutral-700 !no-underline" href=#%e4%b8%89%e6%ac%a1-futamura-%e6%8a%95%e5%bd%b1 aria-label=锚点>#</a></span></h2><p>Futamura 投影可以分为三个阶段，称为“第一次投影”、“第二次投影”和“第三次投影”：</p><ol><li><p><strong>第一次 Futamura 投影</strong>：</p><ul><li>将解释器和一个特定的源程序作为部分求值器的输入，生成一个针对该特定源程序的专用编译器。这个编译器可以直接将源程序翻译成目标代码。</li><li>形式化描述：如果有解释器 <code>I</code> 和源程序 <code>P</code>，通过部分求值（<code>PE</code>），我们可以生成一个等价的目标程序 <code>P'</code>。</li><li>表示为：<code>PE(I, P) = P'</code>，其中 <code>P'</code> 是源程序 <code>P</code> 对应的目标代码。</li></ul></li><li><p><strong>第二次 Futamura 投影</strong>：</p><ul><li>将解释器本身作为部分求值器的输入，生成一个针对任何源程序的编译器。这意味着将解释器的行为部分求值，得到一个编译器。</li><li>形式化描述：通过部分求值器 <code>PE</code> 对解释器 <code>I</code> 进行部分求值，可以生成一个编译器 <code>C</code>，这个编译器可以将任何源程序 <code>P</code> 翻译成目标程序 <code>P'</code>。</li><li>表示为：<code>PE(PE, I) = C</code>，其中 <code>C</code> 是一个可以将源程序 <code>P</code> 编译成目标代码 <code>P'</code> 的编译器。</li></ul></li><li><p><strong>第三次 Futamura 投影</strong>：</p><ul><li>将部分求值器本身作为输入，对其进行部分求值，生成一个可以生成编译器的编译器生成器（也称为编译器生成器、编译器编译器）。</li><li>形式化描述：通过部分求值器 <code>PE</code> 对 <code>PE</code> 进行部分求值，可以生成一个编译器生成器 <code>G</code>，该生成器能够生成编译器。</li><li>表示为：<code>PE(PE, PE) = G</code>，其中 <code>G</code> 是一个可以生成编译器的编译器生成器。</li></ul></li></ol><h2 class="relative group">意义与应用<div id=意义与应用 class=anchor></div><span class="absolute top-0 w-6 transition-opacity opacity-0 -start-6 not-prose group-hover:opacity-100 select-none"><a class="text-primary-300 dark:text-neutral-700 !no-underline" href=#%e6%84%8f%e4%b9%89%e4%b8%8e%e5%ba%94%e7%94%a8 aria-label=锚点>#</a></span></h2><p>Futamura 投影展示了如何通过部分求值将解释器转化为编译器，并进一步展示了编译器生成器的潜力。这一思想在编程语言的实现和优化领域具有重要意义，特别是在自动化生成编译器和提高编译效率方面。</p><ul><li><strong>第一次投影</strong>提供了从解释器生成专用编译器的方法，使得特定源程序可以直接被编译为目标代码。</li><li><strong>第二次投影</strong>展示了如何生成通用编译器，从而无需解释器就可以直接编译任何源程序。</li><li><strong>第三次投影</strong>则展示了生成编译器生成器的可能性，即自动化工具可以生成编译器，这对编程语言设计与实现具有深远影响。</li></ul><p>Futamura 投影是一种理论工具，展示了编译和解释之间的深层联系，并引导了编译器自动生成技术的发展。</p><hr><h2 class="relative group">摘自论坛<div id=摘自论坛 class=anchor></div><span class="absolute top-0 w-6 transition-opacity opacity-0 -start-6 not-prose group-hover:opacity-100 select-none"><a class="text-primary-300 dark:text-neutral-700 !no-underline" href=#%e6%91%98%e8%87%aa%e8%ae%ba%e5%9d%9b aria-label=锚点>#</a></span></h2><p>相比上一节强调物理或逻辑上客观存在的 “界限”，本节主要强调一种心智活动。这样的心智活动具有一个明显的特征，那就是它具有一种 “递归” 的结构。我们首先从一个概念中抽象出它的形成过程，再将这样的思维过程应用于这个概念自身。如此，我们得到的新概念常常具有这样的结构： <strong>A 的 A</strong>。</p><p>个人认为，本节讨论的思想或许是本文的所有思想中最为重要的那一个。这是因为高阶这一思想具有很好的方法论层面上的指导意义，并且在实践中操作起来又有趣又直截了当——同时，个人的看法是通过这一思想生成的很多概念对启迪编程初学者的思维具有非常重要的意义（事实上，如果要从整个技术界中选一个本科教育一般不大重视、但又极度有价值的术语，我会选闭包和高阶函数）。</p><p>通过这样一种 “递归式” 的抽象过程得到的 <strong>A 的 A</strong> 这一形式的概念，我们通常将其称作 <strong>“高阶 A”</strong>。比如，将函数代表的过程 <code>(A -> B)</code> 抽象出来，再应用于函数自身，我们就得到了 <strong>函数的函数</strong>，即 <strong>高阶函数（higher-order function）</strong>。个人认为高阶函数和闭包是计算机领域最为重要的抽象之一。</p><p>例如，将类型的形成过程（类型描述一个语言中最小单位的类别）抽象出来，应用于类型自身，我们就得到了 <strong>类型的类型</strong>，即 <strong>型别（kind）</strong>。</p><h3 class="relative group">二村映射 (Futamura Projections)<div id=二村映射-futamura-projections class=anchor></div><span class="absolute top-0 w-6 transition-opacity opacity-0 -start-6 not-prose group-hover:opacity-100 select-none"><a class="text-primary-300 dark:text-neutral-700 !no-underline" href=#%e4%ba%8c%e6%9d%91%e6%98%a0%e5%b0%84-futamura-projections aria-label=锚点>#</a></span></h3><p>最后，作为压轴，讲一个我昨晚在一篇屯了半年一年的文章中看到的一个概念。我想这个概念应该是超出大部分读者的经验的，而我觉得它还蛮有意思，所以放到最后来大概说说。我们需要从故事的最开始讲起——可能要过很久才能最终看到这个词。</p><h4 class="relative group">编译技术的分类<div id=编译技术的分类 class=anchor></div><span class="absolute top-0 w-6 transition-opacity opacity-0 -start-6 not-prose group-hover:opacity-100 select-none"><a class="text-primary-300 dark:text-neutral-700 !no-underline" href=#%e7%bc%96%e8%af%91%e6%8a%80%e6%9c%af%e7%9a%84%e5%88%86%e7%b1%bb aria-label=锚点>#</a></span></h4><p>我们知道大体上编译技术可以分为两种，分别是 <strong>编译器 (compiler)</strong> 和 <strong>解释器 (interpreter)</strong>。编译器执行的是一个两阶段的过程：首先，自源代码编译出目标程序 (target program)，再向目标程序提供输入，然后得到程序的输出；解释器执行的则是一个一阶段的过程：解释器接收源代码和输入，并直接得到程序的输出。在本节中，我们主要关注解释器。</p><p>绝大部分的编译原理教科书和课程都只涵盖这两者。然而，事实上还存在着第三种编译技术：某种程度上，它介于解释器和编译器之间，但它既不是解释器又不是编译器——请特别注意这一点。为了方便理解，我先岔开点讲。</p><h4 class="relative group">函数式编程中的概念<div id=函数式编程中的概念 class=anchor></div><span class="absolute top-0 w-6 transition-opacity opacity-0 -start-6 not-prose group-hover:opacity-100 select-none"><a class="text-primary-300 dark:text-neutral-700 !no-underline" href=#%e5%87%bd%e6%95%b0%e5%bc%8f%e7%bc%96%e7%a8%8b%e4%b8%ad%e7%9a%84%e6%a6%82%e5%bf%b5 aria-label=锚点>#</a></span></h4><p>稍有函数式经验的读者应该都听过 <strong>柯里化 (Currying)</strong>。如果有一个接收 <code>n</code> 个输入的函数，我们可以把它转化成一叠嵌套的高阶函数，这叠高阶函数中的第 <code>i</code> 个接收原函数中的第 <code>i</code> 个输入（仅一个），然后返回接收剩下 <code>n-i</code> 个输入的函数（故为 “高阶函数”）：比如，一个接收 3 个输入的函数 <code>((A, B, C) -> Output)</code> 经柯里化后会成为一叠高阶函数，这个高阶函数中的第一个接收一个输入 <code>A</code>，然后返回一个接收输入 <code>B</code> 的高阶函数；再向其提供输入 <code>C</code>，才能得到最终结果，即柯里化后的结果是 <code>(A -> (B -> (C -> Output)))</code>。</p><p>尽管在支持闭包和高阶函数的语言中柯里化和 <strong>反柯里化 (Uncurrying)</strong> 都能以非常浅显 (trivial) 的方式实现，但仅有少数的编程语言才一等地支持了柯里化，比如 ML 系语言（Haskell, SML, OCaml, F#）和 Scala。</p><p>对于一个经柯里化后的函数，如果我们只向它提供前 <code>i (i&lt;n)</code> 个输入，那么我们必然得不到最终的输出，而只能得到一个高阶函数，它会再处理余下的输入：这称作 <strong>部分应用 (Partial Application)</strong>。</p><p>讲了这么一大堆，其实主要就是为了部分应用这个概念。你可能会想知道为什么我在上文不用参数这个惯用说法而是用输入，你可能也已经猜到了，这是因为我希望在此强调将解释器理解成一个函数的思想：它的输入是源代码和这段代码的输入，它的输出是这段代码的输出（事实上，很多语言都提供一些十分类似解释器的机制，它们确实是函数（比如 <code>eval</code>））。</p><h4 class="relative group">部分求值 (Partial Evaluation)<div id=部分求值-partial-evaluation class=anchor></div><span class="absolute top-0 w-6 transition-opacity opacity-0 -start-6 not-prose group-hover:opacity-100 select-none"><a class="text-primary-300 dark:text-neutral-700 !no-underline" href=#%e9%83%a8%e5%88%86%e6%b1%82%e5%80%bc-partial-evaluation aria-label=锚点>#</a></span></h4><p>是的，之所以要将解释器理解成一个函数，是因为我正是要借用部分应用的思想：既然解释器的输入是源代码和输入，那么我能不能部分应用这个 “函数”（即解释器），首先给定源代码，得到一个 “处理剩下参数的高阶函数”（即一个中间程序），然后对于这个中间程序，再提供它的输入，然后得到结果？</p><p>答案是，这是可行的。事实上，这一过程称作 <strong>部分求值 (Partial Evaluation)</strong>，而执行这一过程的程序我们称作 <strong>部分求值器 (Partial Evaluator)</strong>。部分求值器作用于一个程序和它的一些参数，输出一个该程序对于这组参数 “特化” 后的新的程序。这里的 “一个程序” 我们称作 <strong>源程序 (Source Program)</strong>，“新的程序” 我们称作 <strong>残差程序 (Residual Program)</strong>。</p><p>回到上边有关解释器举例上来。我们将一个解释器和一个源程序传入部分求值器中，得到的残差程序就是一个接收 <strong>输入</strong> 返回 <strong>输出</strong> 的中间程序。</p><p>是不是觉得非常的熟悉……？第一阶段我们提供源代码，得到中间程序；第二阶段我们提供输入，随后得到输出。这是在做什么…？</p><p>是的，这就是编译。神奇之处在于，我们并没有手工编写一个编译器，我们只是将一个解释器和需要被求值的源代码扔给了部分求值器而已——某种意义上来说，我们是 “免费” 得到了一个编译器。</p><h4 class="relative group">部分求值器与语言虚拟机<div id=部分求值器与语言虚拟机 class=anchor></div><span class="absolute top-0 w-6 transition-opacity opacity-0 -start-6 not-prose group-hover:opacity-100 select-none"><a class="text-primary-300 dark:text-neutral-700 !no-underline" href=#%e9%83%a8%e5%88%86%e6%b1%82%e5%80%bc%e5%99%a8%e4%b8%8e%e8%af%ad%e8%a8%80%e8%99%9a%e6%8b%9f%e6%9c%ba aria-label=锚点>#</a></span></h4><p>你可能在思考这有什么用？你或许已经将这一思路和语言虚拟机联系了起来：众所周知，实现编译器通常比实现解释器难得多，那我们能不能弄一个本质其实是一个部分求值器的语言虚拟机，在这个虚拟机上实现一门新的语言只需要编写一个解释器就行了，而语言虚拟机会调用它的部分求值器自动帮我生成对应的、更加高效的 “编译器” 呢？</p><p>显然，这是完全可行的——事实上这是有产业实践的。PyPy 是一个 Python 语言的解释器实现，它正是基于以上语言虚拟机的思路实现的：在 PyPy VM 上工作的语言有 Python, Ruby 和逻辑编程语言 Prolog 等；除此以外，泛语言高级语言虚拟机（HLLVM）GraalVM 的一个重要组件同样如此，工作在 GraalVM 上的语言包括 JavaScript, Ruby, Python, Java, R 等。</p><p>这其实就是 <strong>第一类二村映射 (First Futamura Projection)</strong>。</p><h4 class="relative group">二村映射的递归性<div id=二村映射的递归性 class=anchor></div><span class="absolute top-0 w-6 transition-opacity opacity-0 -start-6 not-prose group-hover:opacity-100 select-none"><a class="text-primary-300 dark:text-neutral-700 !no-underline" href=#%e4%ba%8c%e6%9d%91%e6%98%a0%e5%b0%84%e7%9a%84%e9%80%92%e5%bd%92%e6%80%a7 aria-label=锚点>#</a></span></h4><p>既然是放在 “高阶” 这一主题下的，我们当然要用到这一思想：正如前几段的粗体所提示的，部分求值器其实也是一个程序，它自身也能够被部分求值。</p><p>回想一开始，<strong>解释器</strong> 的输入是 <strong>源代码</strong> 和 <strong>输入</strong>，我们将 <strong>解释器（主体）</strong> 和 <strong>源代码（主体的其中一个输入）</strong> 单独拎出来，扔进了部分求值器中，这是第一类二村映射；即是说，在第一类二村映射中，<strong>部分求值器</strong> 的输入是 <strong>解释器</strong> 和 <strong>源代码</strong>。</p><p>我们将这一过程——即 “将 <strong>主体</strong> 和 <strong>主体的其中一个输入</strong> 单独拎出来扔进部分求值器中”—— <strong>“高阶化”</strong>，作用于自身，简单的代换就能得到，我们需要将 <strong>部分求值器（主体）</strong> 和 <strong>解释器 （主体的其中一个输入）</strong> 扔进一个部分求值器中。现在我们需要弄清楚，这个 “高阶过程” 得到的残差程序是什么。</p><p>注意到，在第一类二村映射中输入只有 <strong>解释器</strong> 和 <strong>源代码</strong>。既然我们已经部分求值了前者，那么下一步自然只剩下后者了：向上一段提到的 <em>残差程序</em> 提供 <em>源代码</em>，我们就能得到 <em>目标程序</em>。</p><p>向<em>一个程序</em>提供源代码得到另一个程序…… 听起来有点像是某个我们已经知道的东西会做的事情。是的，这就是<strong>编译</strong>。我们的这个 “高阶过程” 得到的残差程序其实是一个<strong>编译器</strong>，而我们的这个 “高阶过程” 所做的，正是在<strong>生成编译器</strong>，即，这一过程其实是<strong>编译器的编译器</strong>——如此，我们终于见到了本节概述中提到的  <code>A</code> 的 <code>A</code> 这样的结构，如果你愿意的话，或许你还可以将这称作<strong>高阶编译器</strong>。</p><p>这其实就是 <strong>第二类二村映射 second Futamura projection</strong>。</p><p>那么，这个 “高阶化” 的过程还能继续下去吗？显然如此。再继续下去，我们就能得到_编译器的编译器的编译器_，也即<strong>第三类二村映射 third Futamura projection</strong>。再往后呢？这点就留给读者自行阅读和思考啦。</p></div></div><script type=text/javascript src=/js/page.min.54b6f4371722649edbe871e431d8670d670878c22be8f36e229fe53cc9b786fe25a834def5e6de621f7a3e37b72bc8cd73839aa5ed907ed6cbd45cd3e1b0fa20.js integrity="sha512-VLb0NxciZJ7b6HHkMdhnDWcIeMIr6PNuIp/lPMm3hv4lqDTe9ebeYh96Pje3K8jNc4Oape2QftbL1FzT4bD6IA==" data-oid=views_posts/二村映射.md data-oid-likes=likes_posts/二村映射.md></script></section><footer class="pt-8 max-w-prose print:hidden"><div class=pt-8><hr class="border-dotted border-neutral-300 dark:border-neutral-600"><div class="flex justify-between pt-3"><span class="flex flex-col"><a class="flex text-neutral-700 hover:text-primary-600 dark:text-neutral dark:hover:text-primary-400" href=/posts/gcc%E4%BB%8B%E7%BB%8D/><span class=leading-6><span class="inline-block rtl:rotate-180">&larr;</span>&ensp;gcc介绍
</span></a><span class="ms-6 mt-1 text-xs text-neutral-500 dark:text-neutral-400"><time datetime=2024-09-07T11:21:43+00:00>September 7, 2024</time>
</span></span><span class="flex flex-col items-end"><a class="flex text-right text-neutral-700 hover:text-primary-600 dark:text-neutral dark:hover:text-primary-400" href=/posts/%E5%86%85%E5%AD%98%E5%8C%BA%E5%9F%9F%E4%BB%8B%E7%BB%8D/><span class=leading-6>内存区域介绍&ensp;<span class="inline-block rtl:rotate-180">&rarr;</span>
</span></a><span class="me-6 mt-1 text-xs text-neutral-500 dark:text-neutral-400"><time datetime=2024-09-07T11:32:17+00:00>September 7, 2024</time></span></span></div></div><div class=pt-3><hr class="border-dotted border-neutral-300 dark:border-neutral-600"><div class=pt-3><script src=https://giscus.app/client.js data-repo=ice345/comments data-repo-id=R_kgDOM32GHQ data-category=Announcements data-category-id=DIC_kwDOM32GHc4C05fk data-mapping=pathname data-reactions-enabled=1 data-emit-metadata=0 data-input-position=bottom data-theme=preferred_color_scheme data-lang=zh-CN crossorigin=anonymous async></script></div></div></footer></article><div id=scroll-to-top class="fixed bottom-6 end-6 z-50 transform translate-y-4 opacity-0 duration-200"><a href=#the-top class="pointer-events-auto flex h-12 w-12 items-center justify-center rounded-full bg-neutral/50 text-xl text-neutral-700 hover:text-primary-600 dark:bg-neutral-800/50 dark:text-neutral dark:hover:text-primary-400" aria-label=返回顶部 title=返回顶部>&uarr;</a></div></main><footer id=site-footer class="py-10 print:hidden"><div class="flex items-center justify-between"><p class="text-sm text-neutral-500 dark:text-neutral-400">&copy;
2026
ICE345</p></div><script>mediumZoom(document.querySelectorAll("img:not(.nozoom)"),{margin:24,background:"rgba(0,0,0,0.5)",scrollOffset:0})</script><script type=text/javascript src=/js/process.min.ee03488f19c93c2efb199e2e3014ea5f3cb2ce7d45154adb3399a158cac27ca52831db249ede5bb602700ef87eb02434139de0858af1818ab0fb4182472204a4.js integrity="sha512-7gNIjxnJPC77GZ4uMBTqXzyyzn1FFUrbM5mhWMrCfKUoMdsknt5btgJwDvh+sCQ0E53ghYrxgYqw+0GCRyIEpA=="></script></footer><div id=search-wrapper class="invisible fixed inset-0 flex h-screen w-screen cursor-default flex-col bg-neutral-500/50 p-4 backdrop-blur-sm dark:bg-neutral-900/50 sm:p-6 md:p-[10vh] lg:p-[12vh] z-500" data-url=https://myblog.050626.xyz/><div id=search-modal class="flex flex-col w-full max-w-3xl min-h-0 mx-auto border rounded-md shadow-lg top-20 border-neutral-200 bg-neutral dark:border-neutral-700 dark:bg-neutral-800"><header class="relative z-10 flex items-center justify-between flex-none px-2"><form class="flex items-center flex-auto min-w-0"><div class="flex items-center justify-center w-8 h-8 text-neutral-400"><span class="relative block icon"><svg aria-hidden="true" focusable="false" data-prefix="fas" data-icon="search" class="svg-inline--fa fa-search fa-w-16" role="img" viewBox="0 0 512 512"><path fill="currentColor" d="M505 442.7 405.3 343c-4.5-4.5-10.6-7-17-7H372c27.6-35.3 44-79.7 44-128C416 93.1 322.9.0 208 0S0 93.1.0 208s93.1 208 208 208c48.3.0 92.7-16.4 128-44v16.3c0 6.4 2.5 12.5 7 17l99.7 99.7c9.4 9.4 24.6 9.4 33.9.0l28.3-28.3c9.4-9.4 9.4-24.6.1-34zM208 336c-70.7.0-128-57.2-128-128 0-70.7 57.2-128 128-128 70.7.0 128 57.2 128 128 0 70.7-57.2 128-128 128z"/></svg></span></div><input type=search id=search-query class="flex flex-auto h-12 mx-1 bg-transparent appearance-none focus:outline-dotted focus:outline-2 focus:outline-transparent" placeholder=搜索 tabindex=0></form><button id=close-search-button class="flex items-center justify-center w-8 h-8 text-neutral-700 hover:text-primary-600 dark:text-neutral dark:hover:text-primary-400" title="关闭 (Esc)">
<span class="relative block icon"><svg viewBox="0 0 320 512"><path fill="currentColor" d="M310.6 361.4c12.5 12.5 12.5 32.75.0 45.25C304.4 412.9 296.2 416 288 416s-16.38-3.125-22.62-9.375L160 301.3 54.63 406.6C48.38 412.9 40.19 416 32 416S15.63 412.9 9.375 406.6c-12.5-12.5-12.5-32.75.0-45.25l105.4-105.4L9.375 150.6c-12.5-12.5-12.5-32.75.0-45.25s32.75-12.5 45.25.0L160 210.8l105.4-105.4c12.5-12.5 32.75-12.5 45.25.0s12.5 32.75.0 45.25l-105.4 105.4L310.6 361.4z"/></svg></span></button></header><section class="flex-auto px-2 overflow-auto"><ul id=search-results></ul></section></div></div></div></body></html>